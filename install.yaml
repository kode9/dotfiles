- defaults:
    link:
      relink: false
      create: true
      force: false

- clean: ['~', '~/.gnupg', '~/.config/git', '~/.local/share/applications']

- shell:
    -
      command: git submodule --quiet update --init --recursive
      description: Checking submodules
      stderr: true
    - [mkdir -p ~/usr/aur/build ~/usr/aur/packages ~/usr/aur/src ~/usr/aur/srcpackages ~/usr/aur/logs, Creating directories]
    - [mkdir -vp -m 700 ~/.gnupg && chmod -c 700 ~/.gnupg, Checking GPG directory]
    - [mkdir -vp -m 700 ~/.ssh && chmod -c 700 ~/.ssh, Checking SSH directory]
    -
      command: >-
        [[ -x $(which rustup) ]] &&
        mkdir -p ~/.zfunc &&
        rustup completions zsh > ~/.zfunc/_rustup
      description: Rustup completion
      stderr: true
    -
      command: mkdir -vp ~/.local/share && chmod -c 700 ~/.local/share
      description: Check XDG_DATA_HOME

- link:
    ~/.Xresources: X11/Xresources
    ~/.bash_aliases: shell/bash/bash_aliases
    ~/.bash_logout: shell/bash/bash_logout
    ~/.bash_profile: shell/bash/bash_profile
    ~/.bashrc: shell/bash/bashrc
    ~/.config/git/ignore: git/gitignore
    ~/.config/makepkg.conf: arch/makepkg.conf
    ~/.dotfiles: ''
    ~/.gitconfig: git/gitconfig
    ~/.gnupg/dirmngr.conf: gpg/dirmngr.conf
    ~/.gnupg/gpg-agent.conf: gpg/gpg-agent.conf
    ~/.gnupg/gpg.conf: gpg/gpg.conf
    ~/.local/share/applications/emacsclient-n.desktop: xdg/emacsclient-n.desktop
    ~/.pam_environment: X11/pam_environment
    ~/.tmux.conf: shell/tmux.conf
    ~/.xinitrc: X11/xinitrc
    ~/.xserverrc: X11/xserverrc
    ~/.yaourtrc: arch/yaourtrc
